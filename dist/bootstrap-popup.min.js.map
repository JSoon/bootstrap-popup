{"version":3,"sources":["bootstrap-popup.min.js"],"names":["factory","define","amd","exports","require","jQuery","Error","fn","modal","$","bs","popup","id","html","message","dialogE","dialogOk","dialogCancel","that","randomNum","scope","Math","floor","random","toast","opts","callback","title","info","delay","arguments","append","find","css","width","on","this","setTimeout","remove","confirm","prompt","eq","val","custom","dom"],"mappings":"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","file":"bootstrap-popup.min.js","sourcesContent":["(function (factory) {\r\n    'use strict';\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD is used - Register as an anonymous module.\r\n        define(['jquery', 'bootstrap'], factory);\r\n    } else if (typeof exports === 'object') {\r\n        factory(require('jquery'), require('bootstrap'));\r\n    } else {\r\n        // Neither AMD nor CommonJS used. Use global variables.\r\n        if (typeof jQuery === 'undefined') {\r\n            throw new Error('bootstrap-popup requires jQuery to be loaded first');\r\n        } else if (typeof (jQuery.fn.modal) === 'undefined') {\r\n            throw new Error('bootstrap-popup requires Bootstrap to be loaded first');\r\n        }\r\n        factory(jQuery, jQuery.fn.modal);\r\n    }\r\n}(function ($, modal) {\r\n    'use strict';\r\n    //    console.log('jQuery: ' + $.fn.jquery);\r\n    //    console.log('Bootstrap: ' + $.fn.modal.Constructor.VERSION);\r\n    $.bs = $.bs || {};\r\n    var popup = function () {\r\n        var that = {};\r\n        var id, html, // modal id and dom\r\n            message, // prompt中输入的信息\r\n            dialogE, // 对话框jQuery对象\r\n            dialogOk, dialogCancel;\r\n\r\n        var randomNum = function (scope) {\r\n            var scope = scope || 100000; // 默认随机数范围 0 到 100,000\r\n            return Math.floor(Math.random() * scope);\r\n        };\r\n\r\n        /**\r\n         * Toast dialog\r\n         * @param {object} opts - title, info and width\r\n         */\r\n        that.toast = function (opts, callback) {\r\n            id = 'J_PopupToast' + randomNum();\r\n            html = '<div id=\"' + id + '\" class=\"modal fade\" tabindex=\"-1\">' +\r\n                '<div class=\"modal-dialog\">' +\r\n                '<div class=\"modal-content\">' +\r\n                '<div class=\"modal-header\">' +\r\n                '<button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>' +\r\n                '<h4 class=\"modal-title\">' + opts.title + '</h4>' +\r\n                '</div>' +\r\n                '<div class=\"modal-body\">' +\r\n                '<p>' + opts.info + '</p>' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '</div>'; // 模态框 html 代码片段\r\n            var delay = arguments[2] ? arguments[2] : 3000; // 模态框消失的时间\r\n            $('body').append(html);\r\n            dialogE = $('#' + id);\r\n            dialogE.find('.modal-dialog').css('width', opts.width);\r\n            dialogE.on('shown.bs.modal', function () {\r\n                typeof (callback) === 'function' ? callback(dialogE): null;\r\n                var that = this,\r\n                    t = setTimeout(function () {\r\n                        $(that).modal('hide');\r\n                    }, delay);\r\n            }).modal('show');\r\n            // 隐藏后删除 modal 节点\r\n            dialogE.on('hidden.bs.modal', function () {\r\n                $(this).remove();\r\n            });\r\n        };\r\n\r\n        /**\r\n         * Confirm dialog\r\n         * @param {object}   opts     - title, info and width\r\n         * @param {function} callback - dialog object of jQuery\r\n         */\r\n        that.confirm = function (opts, callback) {\r\n            id = 'J_PopupConfirm' + randomNum();\r\n            html = '<div id=\"' + id + '\" class=\"modal fade\" tabindex=\"-1\">' +\r\n                '<div class=\"modal-dialog\">' +\r\n                '<div class=\"modal-content\">' +\r\n                '<div class=\"modal-header\">' +\r\n                '<button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>' +\r\n                '<h4 class=\"modal-title\">' + opts.title + '</h4>' +\r\n                '</div>' +\r\n                '<div class=\"modal-body\">' +\r\n                '<p>' + opts.info + '</p>' +\r\n                '</div>' +\r\n                '<div class=\"modal-footer\">' +\r\n                '<button type=\"button\" class=\"btn btn-default J_Cancel\">取消</button>' +\r\n                '<button type=\"button\" class=\"btn btn-primary J_Ok\">确定</button>' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '</div>'; // 模态框 html 代码片段\r\n            $('body').append(html);\r\n            dialogE = $('#' + id);\r\n            dialogE.find('.modal-dialog').css('width', opts.width);\r\n            dialogE.modal('show');\r\n            // 定义确定和取消函数\r\n            dialogOk = dialogE.find('.J_Ok');\r\n            dialogCancel = dialogE.find('.J_Cancel');\r\n            dialogOk.on('click', function () {\r\n                typeof (callback) === 'function' ? callback(dialogE): null;\r\n            });\r\n            dialogCancel.on('click', function () {\r\n                dialogE.modal('hide');\r\n            });\r\n            // 隐藏后删除 modal 节点\r\n            dialogE.on('hidden.bs.modal', function () {\r\n                $(this).remove();\r\n            });\r\n        };\r\n\r\n        /**\r\n         * Prompt dialog\r\n         * @param {object}   opts     - title, info and width\r\n         * @param {function} callback - dialog object of jQuery and input message\r\n         */\r\n        that.prompt = function (opts, callback) {\r\n            id = 'J_PopupPrompt' + randomNum();\r\n            html = '<div id=\"' + id + '\" class=\"modal fade\" tabindex=\"-1\">' +\r\n                '<div class=\"modal-dialog\">' +\r\n                '<div class=\"modal-content\">' +\r\n                '<div class=\"modal-header\">' +\r\n                '<button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>' +\r\n                '<h4 class=\"modal-title\">' + opts.title + '</h4>' +\r\n                '</div>' +\r\n                '<div class=\"modal-body\">' +\r\n                '<p>' + opts.info + '</p>' +\r\n                '<input type=\"text\" class=\"form-control J_Message\" placeholder=\"' + opts.info + '\">' +\r\n                '</div>' +\r\n                '<div class=\"modal-footer\">' +\r\n                '<button type=\"button\" class=\"btn btn-default J_Cancel\">取消</button>' +\r\n                '<button type=\"button\" class=\"btn btn-primary J_Ok\">确定</button>' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '</div>'; // 模态框 html 代码片段\r\n            $('body').append(html);\r\n            dialogE = $('#' + id);\r\n            dialogE.find('.modal-dialog').css('width', opts.width);\r\n            dialogE.modal('show');\r\n            // 定义确定和取消函数\r\n            dialogOk = dialogE.find('.J_Ok');\r\n            dialogCancel = dialogE.find('.J_Cancel');\r\n            dialogOk.on('click', function () {\r\n                message = dialogE.find('.J_Message').eq(0).val();\r\n                typeof (callback) === 'function' ? callback(dialogE, message): null;\r\n            });\r\n            dialogCancel.on('click', function () {\r\n                dialogE.modal('hide');\r\n            });\r\n            // 隐藏后删除 modal 节点\r\n            dialogE.on('hidden.bs.modal', function () {\r\n                $(this).remove();\r\n            });\r\n        };\r\n\r\n        /**\r\n         * Custom popup\r\n         * @param {object}   opts     - title and dom\r\n         * @param {function} callback - dialog object of jQuery\r\n         */\r\n        that.custom = function (opts, callback) {\r\n            id = 'J_PopupCustom' + randomNum();\r\n            html = '<div id=\"' + id + '\" class=\"modal fade\" tabindex=\"-1\">' +\r\n                '<div class=\"modal-dialog\">' +\r\n                '<div class=\"modal-content\">' +\r\n                '<div class=\"modal-header\">' +\r\n                '<button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>' +\r\n                '<h4 class=\"modal-title\">' + opts.title + '</h4>' +\r\n                '</div>' +\r\n                '<div class=\"modal-body\">' + opts.dom + '</div>' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '</div>'; // 模态框 html 代码片段\r\n            $('body').append(html);\r\n            dialogE = $('#' + id);\r\n            dialogE.find('.modal-dialog').css('width', opts.width);\r\n            dialogE.modal('show');\r\n            typeof (callback) === 'function' ? callback(dialogE): null;\r\n            // 隐藏后删除 modal 节点\r\n            dialogE.on('hidden.bs.modal', function () {\r\n                $(this).remove();\r\n            });\r\n        };\r\n\r\n        return that;\r\n    };\r\n    $.bs.popup = popup();\r\n}));\r\n"],"sourceRoot":"/source/"}